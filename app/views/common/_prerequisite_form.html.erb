
<% index ||= 'replace-me' %> <%# This is so we can render a blank version of this sub-form in the page, %>
<%# which can be dynamically cloned using JavaScript to add more ExternalResources to the main material form %>
<% field_name_prefix = "#{form_name}[prerequisites_attributes][#{index}]" %> <%# This format is dictated by "accepts_nested_attributes_for" %>

<div class="form-inline prerequisites-form" data-index="<%= index -%>">

  <%= hidden_field_tag("#{field_name_prefix}[id]", prerequisite.id) %>

  <div class="form-group">
    <%= select_tag "#{field_name_prefix}[verb]",
                   options_for_select(VerbDictionary.instance.options_for_select,
                                      prerequisite.verb),
                   label: 'Verb',
                   class: "btn btn-default dropdown" %>
  </div>

  <div class="form-group">
    <%= select_tag "#{field_name_prefix}[noun]",
                   options_for_select(NounDictionary.instance.options_for_select,
                                      prerequisite.noun),
                   label: 'Noun',
                   class: "btn btn-default dropdown"  %>
  </div>

  <label class="delete-prerequisites-btn delete-multi-add-resource-btn">
    &times;
    <%= hidden_field_tag "#{field_name_prefix}[_destroy]", '0', :autocomplete => 'off' %>
    <%= check_box_tag "#{field_name_prefix}[_destroy]", '1', false, :class => 'destroy-attribute', :autocomplete => 'off' %>
  </label>
</div>
